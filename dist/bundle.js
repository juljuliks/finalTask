!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var t,r,n,o,a,i,l,c,s,d,p;p=document.querySelector(".popup-dialog-menu"),window.addEventListener("click",(function(e){e.target.matches(".menu__icon")?p.style.transform="translate3d(0px, 0px, 0px)":(e.target.matches(".close-menu")||e.target.matches(".menu-link")||e.target.closest(".main"))&&(screen.width<576?p.style.transform="translate3d(0px, -100vh, 0px)":p.style.transform="translate3d(645px, 0px, 0px)")})),c=document.querySelector(".header-contacts__arrow").querySelector("img"),s=document.querySelector(".header-contacts__phone-number-accord"),d=document.querySelector(".header-contacts__phone-number-accord a"),c.addEventListener("click",(function(){"0"===getComputedStyle(d).opacity?(d.style.display="block",s.style.position="static",d.style.opacity="1",c.style.transform="rotateZ(180deg)"):(s.style.position="relative",d.style.opacity="0",d.style.display="none",c.style.transform="rotateZ(0deg)")})),a=document.querySelector(".popup-menu-nav").querySelectorAll(".menu-link"),i=document.querySelector(".button-footer"),l=function(e){e.preventDefault();var t,r=e.target.getAttribute("href");e.target.closest(".link-list-menu")||(t=document.querySelector(r),window.scroll({left:0,top:t.getBoundingClientRect().top,behavior:"smooth"}))},i.addEventListener("click",l),a.forEach((function(e){e.addEventListener("click",l)})),o=document.querySelector(".popup-repair-types"),window.addEventListener("click",(function(e){e.target.closest(".link-list-menu")||e.target.closest(".link-list-repair")?o.style.visibility="visible":e.target.closest(".popup-dialog-repair-types")&&!e.target.closest(".close")||(o.style.visibility="hidden")})),n=document.querySelector(".popup-privacy"),window.addEventListener("click",(function(e){e.target.matches(".link-privacy")?n.style.visibility="visible":e.target.closest(".popup-dialog-privacy")&&!e.target.closest(".close")||(n.style.visibility="hidden")})),function(){var t,r=document.querySelectorAll("input[name=phone]"),n=function(e){return e.value.replace(/\D/g,"")},o=function(e){var t=e.target,r=n(t),o=e.clipboardData||window.clipboardData;if(o){var a=o.getData("Text");if(/\D/g.test(a))return void(t.value=r)}},a=function(e){var t=e.target,r=n(t),o=t.selectionStart,a="";if(!r)return t.value="";if(t.value.length==o){if(["7","8","9"].indexOf(r[0])>-1){"9"==r[0]&&(r="7"+r);var i="8"==r[0]?"8":"+7";a=t.value=i+" ",r.length>1&&(a+="("+r.substring(1,4)),r.length>=5&&(a+=") "+r.substring(4,7)),r.length>=8&&(a+="-"+r.substring(7,9)),r.length>=10&&(a+="-"+r.substring(9,11))}t.value=a}else e.data&&/\D/g.test(e.data)&&(t.value=r)},i=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")},l=function(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}(r);try{for(l.s();!(t=l.n()).done;){var c=t.value;c.addEventListener("keydown",i),c.addEventListener("input",a),c.addEventListener("paste",o)}}catch(e){l.e(e)}finally{l.f()}}(),function(){var e=document.querySelectorAll(".formula-item__icon-inner-text"),t=document.createElement("style");t.innerHTML="\n    .formula-item-popup-rotate {\n        transform: translateY(5px);\n        padding-top: 35px;\n        top: 155px;\n    }\n    .formula-item-popup-rotate:before {\n        transform: rotateZ(180deg)\n    }",document.head.appendChild(t);var r=function(e){e.target.closest(".formula-item")&&(e.target.getBoundingClientRect().top<150&&e.target.getBoundingClientRect().bottom<600&&e.target.parentNode.firstElementChild.classList.add("formula-item-popup-rotate"),e.target.parentNode.parentNode.classList.add("active-item"),e.target.parentNode.parentNode.parentNode.style.zIndex="1")},n=function(e){e.target.closest(".formula-item")&&(e.target.parentNode.firstElementChild.classList.remove("formula-item-popup-rotate"),e.target.parentNode.parentNode.classList.remove("active-item"),e.target.parentNode.parentNode.parentNode.style.zIndex="0")};e.forEach((function(e){e.addEventListener("mouseenter",r)})),e.forEach((function(e){e.addEventListener("mouseleave",n)}))}(),window.addEventListener("click",(function(e){e.target.closest(".button")&&e.target.closest(".director")?document.querySelector(".popup-consultation").style.visibility="visible":e.target.closest(".feedback-wrap")&&!e.target.matches(".close-consultation")||(document.querySelector(".popup-consultation").style.visibility="hidden")})),t=document.querySelectorAll("div.accordion>ul>li"),r=function(e){e.target.closest(".title_block")&&(e.target.classList.contains("msg-active")?e.target.classList.remove("msg-active"):(t.forEach((function(e){e.children[0].classList.contains("msg-active")&&e.children[0].classList.remove("msg-active")})),e.target.classList.add("msg-active")))},t.forEach((function(e){e.addEventListener("click",r)})),function(){var e=document.getElementById("repair-types"),t=document.querySelector(".repair-types-slider"),r=document.querySelectorAll(".repair-types-nav__item"),n=Array.from(t.children),o=document.querySelector(".nav-list-repair");o.style.transform="translateX(0px)";var a=0,i=0,l=document.querySelector(".repair-types-slider__slide").children[0].offsetHeight,c=1,s=document.createElement("style");s.innerHTML="\n        .activeType: {\n            display: block;\n        }\n    ",document.head.appendChild(s),document.querySelector(".types-repair1").classList.add("activeType"),e.addEventListener("click",(function(e){var t=document.querySelector(".slider-counter-content__total");if(e.target.closest(".repair-types-nav__item")){n.forEach((function(e){e.style.transform="translateY(0px)",e.style.display="none",e.classList.contains("activeType")&&e.classList.remove("activeType")}));var s=e.target.classList[2].split("-")[e.target.classList[2].split("-").length-1],d=".types-repair".concat(s),p=document.querySelector(d);if(p.style.display="block",a=0,c=1,document.querySelector(".slider-counter-content__current").innerText="1",t.textContent=p.children.length,p.classList.add("activeType"),e.target.classList.contains("active"))return;r.forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),e.target.classList.add("active")}else if(e.target.closest("#repair-types-arrow_right")){(c=document.querySelector(".slider-counter-content__current")).innerText==+t.textContent?c.innerText=1:c.innerText++;var u=document.querySelector(".activeType");u.style.display="block",((a-=l)<=-u.children.length*l||a<-(+t.textContent-1)*l)&&(a=0),u.style.transform="translateY(".concat(a,"px)")}else if(e.target.closest("#repair-types-arrow_left")){c=document.querySelector(".slider-counter-content__current");var y=+t.textContent,m=(c.innerText<y?1==c.innerText?c.innerText=y:c.innerText>1?c.innerText--:c.innerText=1:c.innerText--,document.querySelector(".activeType"));m.style.display="block",(a+=l)>0&&(a=-(m.children.length-1)*l),m.style.transform="translateY(".concat(a,"px)")}else e.target.closest("#nav-arrow-repair-right_base")?(screen.width>575?(i-=screen.width/5)==-screen.width&&(i=0):(i-=screen.width/3)<-890&&(i=0),o.style.transform="translateX(".concat(i,"px)")):e.target.closest("#nav-arrow-repair-left_base")&&(0===i?e.target.readOnly=!0:screen.width>575?i+=screen.width/5:i+=screen.width/3,o.style.transform="translateX(".concat(i,"px)"))}))}(),function(){var e=document.getElementById("portfolio"),t=document.getElementById("portfolio-arrow_left"),r=document.getElementById("portfolio-arrow_right"),n=document.getElementById("portfolio-arrow-mobile_right"),o=document.getElementById("portfolio-arrow-mobile_left"),a=document.querySelector(".portfolio-slider"),i=Array.from(a.children),l=document.querySelector(".portfolio-slider-mobile"),c=Array.from(l.children);r.style.display="flex";var s=e.querySelector(".slider-counter-content__total");s.innerText=c.length;var d=e.querySelector(".slider-counter-content__current"),p=1,u=i[0].offsetWidth,y=0;o.style.display="none",n.style.zIndex="20",o.style.zIndex="20";var m=document.createElement("style");m.innerHTML="\n    .portfolio-wrap{\n        position: relative;\n        display: flex;\n        width: 100%;\n        height:100%;\n        transition:transform 0.5s !important;\n    ",document.head.appendChild(m);var f=function(e){var t=e.innerHTML,r="<div class='portfolio-wrap'>".concat(t,"</div>");e.innerHTML=r};f(a),f(l),i.forEach((function(e){e.style.minWidth="".concat(u,"px")}));var v=document.querySelectorAll(".portfolio-wrap")[1],h=document.querySelectorAll(".portfolio-wrap")[0];e.addEventListener("click",(function(e){e.target.closest("#portfolio-arrow_right")?(p++,t.style.display="flex",screen.width>1024&&3===p?(r.style.display="none",p=1,t.style.display="flex"):4===p&&screen.width<=1024&&(r.style.display="none",t.style.display="flex",p=1),y+=u,v.style.transform="translateX(".concat(-y,"px)")):e.target.closest("#portfolio-arrow_left")?(p++,y<=352&&(p=1,t.style.display="none",r.style.display="flex"),y-=u,v.style.transform="translateX(".concat(-y,"px)")):e.target.closest("#portfolio-arrow-mobile_left")?(d.innerText--,"1"==d.innerText&&(o.style.display="none"),y-=352,h.style.transform="translateX(".concat(-y,"px)")):e.target.closest("#portfolio-arrow-mobile_right")&&(y+=352,o.style.display="flex",d.innerText++,d.innerText>+s.innerText&&(d.innerText=1,y=0,o.style.display="none"),h.style.transform="translateX(".concat(-y,"px)"))}))}(),function(){var e=document.querySelector(".popup-portfolio");document.querySelector(".popup-portfolio-slider-wrap").style.position="absolute";var t=document.createElement("style");t.innerHTML="\n        .popup-portfolio-text {\n                margin-right: 30px !important;\n        }\n        .popup-portfolio-slider {\n            transition:transform 0.5s !important;\n        }\n    ",document.head.appendChild(t);var r=document.querySelector(".popup-portfolio-slider"),n=document.querySelectorAll(".popup-portfolio-text"),o=document.querySelector("#popup_portfolio_left");document.querySelectorAll(".popup-portfolio-slider__slide").forEach((function(e){e.style.minHeight="624px"}));var a=0;document.querySelector(".portfolio-slider").querySelectorAll(".portfolio-slider__slide-frame").forEach((function(e){a++,e.setAttribute("id","portfolio-slider__slide-frame--".concat(a))}));var i=function(){document.querySelectorAll(".popup-portfolio-text").forEach((function(e){return e.style.display="none"}))},l=0,c=1,s=document.querySelector("#popup-portfolio-counter").querySelector(".slider-counter-content__current");document.querySelector("#popup-portfolio-counter").querySelector(".slider-counter-content__total").innerText=r.children.length,screen.width<=1024&&(document.querySelector(".popup-dialog-portfolio").style.height="624px"),window.addEventListener("click",(function(t){if(screen.width>575)if(t.target.closest(".portfolio-slider__slide-frame")){var a=t.target.getAttribute("id").replace(/\D/g,"")-1;s.innerText=a+1,o.style.display="none",e.style.visibility="visible",screen.width>1024&&(n[c-1].style.display="block"),r.style.transform="translateY(".concat(-624*a,"px)"),c=+s.textContent,l=-624*a}else t.target.closest("#popup_portfolio_right")?s.textContent>=10?(o.style.display="none",s.innerText=1,c=1,l=0,r.style.transform="translateY(".concat(l,"px)")):(c++,o.style.display="flex",s.innerText++,i(),screen.width>1024&&(n[c-1].style.display="block"),l-=624,r.style.transform="translateY(".concat(l,"px)")):t.target.closest("#popup_portfolio_left")?(c--,s.innerText=c,i(),screen.width>1024&&(n[c+1].style.display="block"),l+=624,r.style.transform="translateY(".concat(l,"px)"),1===c&&(c=1,o.style.display="none")):(!t.target.closest(".popup-dialog-portfolio")||t.target.closest(".close")&&t.target.closest(".popup-portfolio"))&&(e.style.visibility="hidden")}))}(),function(){document.querySelector(".transparency");var e=document.querySelector(".popup-transparency"),t=document.querySelector(".popup-transparency-slider"),r=document.querySelectorAll(".transparency-item"),n=document.querySelector("#transparency-popup-counter").querySelector(".slider-counter-content__total"),o=document.querySelector("#transparency-popup-counter").querySelector(".slider-counter-content__current"),a=document.querySelector("#transparency_right"),i=document.querySelector("#transparency_left"),l=1;o.innerText=l;var c=0;n.innerText=r.length;var s=document.querySelector(".popup-transparency-slider__slide").offsetWidth,d=document.createElement("style");if(d.innerHTML="\n    .popupTransparencyWrap {\n        position: relative;\n        display: flex;\n        width: 100%;\n        height:100%;\n        transition:transform 0.5s !important;\n    }\n    .popupTransparencyWrap .popup-transparency-slider__slide{\n        min-width: ".concat(s,"px;\n    }\n"),document.head.appendChild(d),screen.width<=1024){var p=document.createElement("style");p.innerHTML="\n      .transparency-slider{\n          display: -webkit-box !important;\n          display: -ms-flexbox !important;\n          display: flex !important;\n          flex-wrap: nowrap !important;\n          transition:transform 0.5s !important;\n      }\n      .transparency-slider .transparency-item{\n          min-width: 744px !important;\n      }\n      .transparency-slider-wrap{\n          overflow: hidden !important;\n      }",document.head.appendChild(p)}if(screen.width<768){var u=document.createElement("style");u.innerHTML="\n    .transparency-slider{\n        display: -webkit-box !important;\n        display: -ms-flexbox !important;\n        display: flex !important;\n        flex-wrap: nowrap !important;\n        transition:transform 0.5s !important;\n    }\n    .transparency-slider .transparency-item{\n        min-width: 290px !important;\n    }\n    .transparency-slider-wrap{\n        overflow: hidden !important;\n    }",document.head.appendChild(u)}var y=t.innerHTML;t.innerHTML="<div class='popupTransparencyWrap'>".concat(y,"</div>");var m=document.querySelector(".transparency-slider"),f=document.querySelector(".popupTransparencyWrap"),v=document.querySelector("#transparency-arrow_left");v.style.display="none";var h=+getComputedStyle(document.querySelector(".transparency-item")).minWidth.replace(/\D/g,"");window.addEventListener("click",(function(t){t.target.closest(".transparency-item__img")?(a.style.display="flex",i.style.display="none",e.style.visibility="visible"):!t.target.closest(".popup-dialog-transparency")||t.target.closest(".close")&&t.target.closest(".popup-transparency")?e.style.visibility="hidden":t.target.closest("#transparency_right")?(l++,i.style.display="flex",o.innerText=l,c-=s,l>3&&(l=1,o.innerText=l,c=0,i.style.display="none"),f.style.transform="translateX(".concat(c,"px)")):t.target.closest("#transparency_left")&&(l--,o.innerText=l,c+=s,1==o.innerText&&(i.style.display="none"),f.style.transform="translateX(".concat(c,"px)")),t.target.closest("#transparency-arrow_right")?(v.style.display="flex",(c-=h)<-2*h&&(c=0,v.style.display="none"),m.style.transform="translateX(".concat(c,"px)")):t.target.closest("#transparency-arrow_left")&&(c==-h&&(v.style.display="none"),c+=h,m.style.transform="translateX(".concat(c,"px)"))}))}(),function(){var e=document.querySelector(".reviews"),t=document.querySelector(".reviews-slider__slide").offsetWidth,r=document.createElement("style");r.innerHTML="\n    .reviewWrap{\n        position: relative;\n        display: flex;\n        width: 100%;\n        height:100%;\n        transition:transform 0.5s !important;\n    }\n    .reviewItem{\n        min-width: ".concat(t,"px !important;\n    }"),document.head.appendChild(r);var n=document.querySelector(".reviews-slider").innerHTML;document.querySelector(".reviews-slider").innerHTML="<div class='reviewWrap'>".concat(n,"</div>"),document.querySelectorAll(".reviews-slider__slide").forEach((function(e){return e.classList.add("reviewItem")}));var o=document.querySelector(".reviewWrap"),a=document.querySelector("#reviews-arrow_left");a.style.display="none";var i=0;e.addEventListener("click",(function(e){e.target.closest("#reviews-arrow_right")?(i-=t,a.style.display="flex",i<-4*t&&(i=0,a.style.display="none"),o.style.transform="translateX(".concat(i,"px)")):e.target.closest("#reviews-arrow_left")&&(i===-t&&(a.style.display="none"),i+=t,o.style.transform="translateX(".concat(i,"px)"))}))}(),function(){var e=document.querySelector(".formula"),t=document.querySelector("#formula-arrow_left"),r=document.createElement("style");r.innerHTML="\n    .formulaSliderWrap{\n    overflow:hidden  !important;\n    }        \n    .formulaSlider{\n    align-items: flex-start !important;\n    display:flex !important;\n    transition:transform 0.5s !important;\n    will-cahnge: transform !important;\n    }\n    .formulaSlider-slide{\n    display: flex !important;\n    align-items:center;\n    justify-content: center;\n    min-width:290px !important;\n    }",document.head.appendChild(r),document.querySelector(".formula-slider-wrap").classList.add("formulaSliderWrap"),document.querySelector(".formula-slider").classList.add("formulaSlider"),document.querySelectorAll(".formula-slider__slide").forEach((function(e){return e.classList.add("formulaSlider-slide")}));var n=document.querySelectorAll(".formulaSlider-slide"),o=document.querySelector(".formula-slider"),a=0,i=0;n[0].classList.add("active-item");var l=function(){n.forEach((function(e){return e.classList.remove("active-item")}))};t.style.display="none",e.addEventListener("click",(function(e){e.target.closest("#formula-arrow_right")?a>4?(t.style.display="none",l(),n[a=0].classList.add("active-item"),i=0,o.style.transform="translateX(".concat(i,"px)")):(t.style.display="flex",i-=290,a++,l(),n[a].classList.add("active-item"),o.style.transform="translateX(".concat(i,"px)")):e.target.closest("#formula-arrow_left")&&(a<1?t.style.display="none":(a--,l(),n[a].classList.add("active-item"),i+=290,o.style.transform="translateX(".concat(i,"px)")))}))}(),function(){document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.removeAttribute("required")}));var e=document.querySelector(".popup-thank"),t=document.getElementById("feedback1"),r=document.getElementById("feedback2"),n=document.getElementById("feedback3"),o=document.getElementById("feedback4"),a=document.getElementById("feedback6"),i=function(t){var r;document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.addEventListener("change",(function(){e.setAttribute("checked","".concat(e.checked)),r=e.checked}))}));var n=t.querySelectorAll("input[type=text]");n.forEach((function(e){return e.required=!0})),t.addEventListener("submit",(function(o){var a=t.querySelector("input[type=checkbox]").getAttribute("checked");if(o.preventDefault(),r&&"false"!==a&&null!==a){var i=new FormData(t),l={};i.forEach((function(e,t){l[t]=e})),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(r){if(200!==r.status)throw new Error("status network not 200");e.style.visibility="visible",setTimeout((function(){e.style.visibility="hidden"}),2e3),n.forEach((function(e){t.querySelector("input[type=checkbox]").nextElementSibling.nextElementSibling.style.color="black",e.value=e.defaultValue,document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.checked=!1,e.setAttribute("checked","".concat(e.checked))}))}))})).catch((function(e){console.error(e)}))}else t.querySelector("input[type=checkbox]").nextElementSibling.nextElementSibling.style.color="red"}))};i(t),i(r),i(n),i(o),i(a)}(),function(){var e=[];fetch("../../crm-backend/db.json",{method:"GET"}).then((function(e){if(200!==e.status)throw new Error("status network not 200");return e.json()})).then((function(r){t(),r.forEach((function(t){return e.push(t)}))})).catch((function(e){console.error(e)}));var t=function(){document.querySelectorAll(".popup-repair-types-nav__item").forEach((function(e){e.addEventListener("click",r)}))},r=function(t){document.querySelectorAll(".mobile-row").forEach((function(e){return e.remove()}));var r=document.querySelector(".popup-repair-types-content-table").querySelector("tbody");for(var o in r.innerHTML="",e)"Стена: Демонтажные работы"===e[o].type&&(e[o].type="Стены: Демонтажные работы"),t.target.textContent===e[o].type&&(document.querySelector("#switch-inner").innerText=e[o].type,n(e[o].name,e[o].cost,r))},n=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"m",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"2",a=document.createElement("tr");a.innerHTML='<tr class="mobile-row">\n                        <td class="repair-types-name">'.concat(e,'</td>\n                        <td class="mobile-col-title tablet-hide desktop-hide">Ед.измерения</td>\n                        <td class="mobile-col-title tablet-hide desktop-hide">Цена за ед.</td>\n                        <td class="repair-types-value">').concat(n,"<sup>").concat(o,'</sup></td>\n                        <td class="repair-types-value">').concat(t,"руб.</td>\n                    </tr>"),r.appendChild(a)}}()}();